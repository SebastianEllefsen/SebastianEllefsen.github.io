<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Password Strength Sandbox
something</title>

    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@500;700&family=IBM+Plex+Sans:wght@400;500&family=Fira+Code:wght@400;500&display=swap"
      rel="stylesheet"
    />

    <!-- Bootstrap 5.3 -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <style>
      :root {
        --c-bg: #0f1318;
        --c-surface: #161c23;
        --c-border: #1f2731;
        --c-text: #e7eef7;
        --c-muted: #9aa6b2;
        --c-primary: #4c7dff;
        --c-accent: #00c9a7;
        --c-bad: #ff5858;
        --c-good: #7ae3c3;
        --radius: 12px;
      }
      html,
      body {
        background: var(--c-bg);
        color: var(--c-text);
        font-family: "IBM Plex Sans", system-ui, -apple-system, Segoe UI, Roboto,
          "Helvetica Neue", Arial, sans-serif;
      }
      h1,
      h2,
      h3 {
        font-family: "Inter", system-ui, sans-serif;
      }
      .surface {
        background: var(--c-surface);
        border: 1px solid var(--c-border);
        border-radius: var(--radius);
      }
      .btn-primary {
        --bs-btn-bg: var(--c-primary);
        --bs-btn-border-color: var(--c-primary);
      }
      .btn-outline-accent {
        --bs-btn-color: var(--c-accent);
        --bs-btn-border-color: var(--c-accent);
        --bs-btn-hover-bg: var(--c-accent);
        --bs-btn-hover-color: #0f1318;
      }
      .muted {
        color: var(--c-muted);
      }
      .form-control,
      .form-select {
        background: #12171e;
        border: 1px solid var(--c-border);
        color: var(--c-text);
        border-radius: 10px;
      }
      .form-control:focus,
      .form-select:focus {
        border-color: #2a3a50;
        box-shadow: none;
      }
      .grid-2 {
        display: grid;
        grid-template-columns: 1fr;
        gap: 1rem;
      }
      @media (min-width: 992px) {
        .grid-2 {
          grid-template-columns: 1.2fr 0.8fr;
        }
      }
      .mono {
        font-family: "Fira Code", ui-monospace, SFMono-Regular, Menlo, Consolas,
          monospace;
      }
      .strength {
        height: 10px;
        background: #0f141b;
        border-radius: 6px;
        overflow: hidden;
        border: 1px solid var(--c-border);
      }
      .strength > div {
        height: 100%;
        width: 0%;
        transition: width 0.2s ease;
        background: linear-gradient(
          90deg,
          #ff5858,
          #ffba49,
          #ffd241,
          #00c9a7,
          #7ae3c3
        );
      }
      .pill {
        display: inline-block;
        font-size: 0.8rem;
        padding: 0.2rem 0.5rem;
        border: 1px solid var(--c-border);
        border-radius: 999px;
        color: var(--c-muted);
      }
      .kbd {
        border: 1px solid var(--c-border);
        background: #11161d;
        border-radius: 6px;
        padding: 0.1rem 0.35rem;
        font-size: 0.85rem;
      }
      .table-sm td,
      .table-sm th {
        padding: 0.4rem 0.6rem;
      }
      a {
        color: var(--c-accent);
      }
      a:hover {
        color: #11e5c7;
      }
    </style>
  </head>
  <body>
    <!-- TOP -->
    <nav class="navbar py-3 border-bottom border-0">
      <div class="container">
        <a class="navbar-brand fw-semibold" href="static_index.html"
          >üîê Auth<span style="color: var(--c-accent)">Lab</span></a>
        <div class="d-flex gap-4 ms-auto">
          <a class="btn btn-sm btn-outline-accent" href="static_index.html">Index</a>
          <a class="btn btn-sm btn-outline-accent" href="static_stats.html">Stats</a>
          <a class="btn btn-sm btn-outline-accent" href="static_info.html">Info</a>
        </div>
      </div>
    </nav>

    <!-- CONTENT -->
    <main class="container-fluid px-4 px-md-5 my-5">
      <!-- htmlhint enable -->
<!-- prettier-ignore-end -->
<!-- HERO -->
<header class="container my-4">
  <div class="border rounded p-4 p-md-5">
    <div class="d-flex flex-column flex-lg-row align-items-start gap-4">
      <div class="flex-grow-1">
        <h1 class="fw-bold mb-2">Understand password strength ‚Äî precisely.</h1>
        <p class="muted mb-3">
          One focused sandbox. Clear metrics. Immediate takeaways. Adjust the
          <span class="kbd">algorithm</span> and
          <span class="kbd">guesses/sec</span> to see how threat models change
          outcomes.
        </p>
        <a href="#sandbox" class="btn btn-primary btn-lg">Open the Sandbox</a>
      </div>
      <div class="ms-lg-auto">
      </div>
    </div>
  </div>
</header>

<!-- SANDBOX -->
<section id="sandbox" class="container my-4 my-md-5">
  <div class="grid-2">
    <!-- Left: Controls + Results -->
    <div class="border rounded p-4 p-md-5">
      <div class="d-flex align-items-center justify-content-between mb-3">
        <h2 class="h4 fw-bold m-0">Password Sandbox</h2>
        <span class="pill">Local only</span>
      </div>

      <div class="row g-3">
        <div class="col-12">
          <label class="form-label" for="pw">Test password</label>
          <input
            id="pw"
            type="password"
            class="form-control form-control-lg"
            placeholder="Try a long passphrase like: sofa-lake-rocket-93!"
          />
          <div class="form-text muted">
            Computed in your browser; nothing is sent.
          </div>
        </div>

        <div class="col-sm-6">
          <label class="form-label" for="algo">Hash / KDF</label>
          <select id="algo" class="form-select">
            <option value="ntlm">Fast: NTLM</option>
            <option value="sha1">Fast: SHA-1</option>
            <option value="md5">Fast: MD5</option>
            <option value="bcrypt12">Slow: bcrypt (cost 12)</option>
            <option value="argon2">Slow: Argon2id (moderate memory)</option>
          </select>
          <div class="form-text muted">
            Choose a storage scheme to model offline attacks.
          </div>
        </div>

        <div class="col-sm-6">
          <label class="form-label" for="gps">Guesses per second</label>
          <input
            id="gps"
            type="number"
            class="form-control"
            value="10000000000"
            min="1"
            step="1"
          />
          <div class="form-text muted">
            e.g. 1e10 for a modern GPU rig on fast hashes.
          </div>
        </div>

        <div class="col-12">
          <div class="d-flex align-items-center gap-2">
            <span class="small muted">Strength</span>
            <div class="strength flex-grow-1"><div id="bar"></div></div>
            <span class="small" id="label">‚Äî</span>
          </div>
        </div>

        <div class="col-12">
          <div class="row row-cols-1 row-cols-md-3 g-3">
            <div class="col">
              <div class="surface p-3 h-100">
                <div class="small muted">Entropy (bits)</div>
                <div class="h4 m-0" id="entropy">‚Äî</div>
              </div>
            </div>
            <div class="col">
              <div class="border rounded p-3 h-100">
                <div class="small muted">Estimated crack time</div>
                <div class="h4 m-0" id="time">‚Äî</div>
              </div>
            </div>
            <div class="col">
              <div class="border rounded p-3 h-100">
                <div class="small muted">Key take</div>
                <div class="h6 m-0" id="take">‚Äî</div>
              </div>
            </div>
          </div>
        </div>

        <div class="col-12">
          <div id="advice" class="small"></div>
        </div>
      </div>
    </div>

    <!-- Right: Facts -->
    <aside class="border rounded p-4 p-md-5">
      <h3 class="h5 fw-bold mb-3">Why results differ</h3>
      <table class="table table-sm align-middle m-0">
        <thead>
          <tr class="text-muted">
            <th>Scheme</th>
            <th class="text-end">Typical GPU throughput</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>NTLM</td>
            <td class="text-end">10¬π¬π‚Äì10¬π¬≤ H/s (very fast)</td>
          </tr>
          <tr>
            <td>SHA-1</td>
            <td class="text-end">10¬π‚Å∞‚Äì10¬π¬π H/s</td>
          </tr>
          <tr>
            <td>MD5</td>
            <td class="text-end">10¬π¬π‚Äì10¬π¬≤ H/s</td>
          </tr>
          <tr>
            <td>bcrypt (12)</td>
            <td class="text-end">10‚Åµ‚Äì10‚Å∂ H/s</td>
          </tr>
          <tr>
            <td>Argon2id</td>
            <td class="text-end">10¬≥‚Äì10‚Åµ H/s (memory-bound)</td>
          </tr>
        </tbody>
      </table>
      <p class="small muted mt-3">
        Fast hashes enable billions of guesses/sec; slow KDFs throttle attackers
        by design. Length + uniqueness + a manager are your biggest wins.
      </p>

      <div class="d-flex gap-2">
        <button id="suggest" class="btn btn-outline-accent btn-sm">
          Suggest passphrase
        </button>
        <button id="use" class="btn btn-outline-accent btn-sm">
          Use suggestion
        </button>
      </div>
      <div class="small mt-2">
        Suggestion: <code id="suggestion" class="mono">‚Äî</code>
      </div>
    </aside>
  </div>
</section>

<!-- HASH EXPLORER (kept, but lean) -->
<section class="container my-4">
  <div class="border rounded p-4 p-md-5">
    <div
      class="d-flex align-items-center justify-content-between flex-wrap gap-3"
    >
      <div>
        <h2 class="h5 fw-bold mb-1">SHA-256 Visual Hash</h2>
        <p class="muted small mb-0">
          Type below; observe how tiny input changes produce unrelated outputs
          (‚Äúavalanche effect‚Äù).
        </p>
      </div>
    </div>
    <div class="row g-3 mt-1">
      <div class="col-lg-5">
        <input
          id="hashInput"
          type="text"
          class="form-control"
          placeholder="hello world"
          value="hello world"
        />
      </div>
      <div class="col-lg-7">
        <div
          class="border rounded p-3 mono small"
          id="hashOut"
          style="word-break: break-all"
        >
          ‚Äî
        </div>
      </div>
    </div>
  </div>
</section>

<!-- WORKSHOP CTA -->
<section id="workshop" class="container my-4 my-md-5">
  <div
    class="border rounded p-4 p-md-5 d-flex flex-column flex-md-row align-items-start align-items-md-center justify-content-between gap-3"
  >
    <div>
      <h3 class="h5 fw-bold mb-1">Password Workshop</h3>
      <p class="muted mb-0 small">
        10 minutes to practice creating strong, memorable passphrases and
        enabling MFA.
      </p>
    </div>
    <a href="#sandbox" class="btn btn-primary">Start now</a>
  </div>
</section>

<script>
  // ===== Utilities =====
  const clamp = (n, min, max) => Math.max(min, Math.min(max, n));
  const fmtInt = (n) => {
    if (!isFinite(n)) return "‚àû";
    const s = n.toString();
    return s.replace(/\B(?=(\d{3})+(?!\d))/g, ",");
  };

  // Entropy: charsets + length
  function entropyBits(pw) {
    if (!pw) return 0;
    let charset = 0;
    if (/[a-z]/.test(pw)) charset += 26;
    if (/[A-Z]/.test(pw)) charset += 26;
    if (/\d/.test(pw)) charset += 10;
    if (/[^A-Za-z0-9]/.test(pw)) charset += 33;
    if (/\s/.test(pw)) charset += 5;
    return Math.round(pw.length * Math.log2(charset || 1));
  }

  // Very rough pattern advice (doesn't affect entropy)
  function adviceFor(pw) {
    const tips = [];
    if (!pw) return ["Start typing to see feedback."];
    if (pw.length < 12) tips.push("Use at least 12‚Äì16 characters.");
    if (!/[A-Z]/.test(pw)) tips.push("Add uppercase letters.");
    if (!/[a-z]/.test(pw)) tips.push("Add lowercase letters.");
    if (!/\d/.test(pw)) tips.push("Include digits.");
    if (!/[^A-Za-z0-9]/.test(pw)) tips.push("Include symbols.");
    if (/password|admin|qwerty|letmein|welcome|iloveyou|dragon/i.test(pw))
      tips.push("Avoid common words/phrases.");
    if (/(.)\1{2,}/.test(pw)) tips.push("Avoid repeated characters.");
    if (/1234|abcd|qwer|0000/.test(pw)) tips.push("Avoid sequences.");
    tips.push("Use a unique password per site (password manager helps).");
    return [...new Set(tips)];
  }

  // Bucket for UI
  function bucket(bits) {
    if (bits < 28) return 1;
    if (bits < 36) return 2;
    if (bits < 60) return 3;
    if (bits < 80) return 4;
    return 5;
  }
  const bucketLabel = ["Very weak", "Weak", "Fair", "Strong", "Excellent"];

  // Crack time estimate with adjustable guesses/sec and algorithm slowdowns
  function crackSeconds(bits, gps, algoKey) {
    // Slow KDF effective multipliers (very rough for teaching)
    const multipliers = {
      ntlm: 1,
      sha1: 2, // slightly slower than NTLM on many GPUs
      md5: 1, // similar ballpark
      bcrypt12: 3e5, // slow-down factor vs NTLM-ish baseline
      argon2: 1e7, // memory-bound, even slower
    };
    const slow = multipliers[algoKey] || 1;
    const effectiveGps = Math.max(1, gps / slow);
    const guesses = Math.pow(2, bits);
    return guesses / effectiveGps;
  }

  function prettyTime(s) {
    if (!isFinite(s) || s <= 0) return "instant";
    const units = [
      ["yr", 31557600],
      ["day", 86400],
      ["hr", 3600],
      ["min", 60],
      ["sec", 1],
    ];
    for (const [label, sec] of units) {
      if (s >= sec) {
        const v = s / sec;
        return (
          (v > 1000 ? Math.round(v) : v.toFixed(1)) +
          " " +
          label +
          (v >= 2 ? "s" : "")
        );
      }
    }
    return s.toFixed(1) + " sec";
  }

  // ===== DOM =====
  const pw = document.getElementById("pw");
  const algo = document.getElementById("algo");
  const gps = document.getElementById("gps");
  const bar = document.getElementById("bar");
  const label = document.getElementById("label");
  const entropyEl = document.getElementById("entropy");
  const timeEl = document.getElementById("time");
  const takeEl = document.getElementById("take");
  const adviceEl = document.getElementById("advice");

  function render() {
    const text = pw.value || "";
    const bits = entropyBits(text);
    const b = bucket(bits);
    const pct = clamp(b * 20, 0, 100);
    bar.style.width = pct + "%";
    label.textContent = bucketLabel[b - 1] || "‚Äî";
    entropyEl.textContent = bits ? bits : "‚Äî";

    const guessesPerSec = Number(gps.value || 0);
    const seconds = crackSeconds(bits, guessesPerSec, algo.value);
    timeEl.textContent = prettyTime(seconds);

    const keyTake =
      b <= 2
        ? "Add length; length dominates."
        : b === 3
        ? "Pretty good ‚Äî make it longer & unique."
        : b === 4
        ? "Strong ‚Äî unique per site + MFA."
        : "Excellent ‚Äî consider passphrase manager & MFA.";
    takeEl.textContent = keyTake;

    adviceEl.innerHTML =
      "<ul class='mb-0'>" +
      adviceFor(text)
        .map((t) => `<li>${t}</li>`)
        .join("") +
      "</ul>";
  }
  [pw, algo, gps].forEach((el) => el.addEventListener("input", render));

  // Passphrase suggestions
  const words = [
    "sofa",
    "lake",
    "rocket",
    "violet",
    "ember",
    "copper",
    "delta",
    "forest",
    "laser",
    "piano",
    "river",
    "signal",
    "tunnel",
    "galaxy",
    "neon",
    "pixel",
    "magnet",
    "saturn",
    "cloud",
    "sunset",
    "matrix",
    "echo",
    "cipher",
    "anchor",
    "breeze",
    "cobalt",
    "hazel",
    "ion",
  ];
  function suggestion() {
    const n = 4 + Math.floor(Math.random() * 2);
    const sep = ["-", "_", ".", "~"][Math.floor(Math.random() * 4)];
    const nums = Math.floor(Math.random() * 90 + 10);
    const picks = Array.from(
      { length: n },
      () => words[Math.floor(Math.random() * words.length)]
    );
    return picks.join(sep) + sep + nums + "!";
  }
  const sEl = document.getElementById("suggestion");
  document.getElementById("suggest").addEventListener("click", () => {
    sEl.textContent = suggestion();
  });
  document.getElementById("use").addEventListener("click", () => {
    if (sEl.textContent && sEl.textContent !== "‚Äî") {
      pw.value = sEl.textContent;
      render();
      pw.focus();
    }
  });

  // Initial state
  sEl.textContent = suggestion();
  render();

  // ===== Minimal Hash Explorer =====
  async function sha256Hex(message) {
    const enc = new TextEncoder().encode(message);
    const digest = await crypto.subtle.digest("SHA-256", enc);
    return [...new Uint8Array(digest)]
      .map((b) => b.toString(16).padStart(2, "0"))
      .join("");
  }
  const hashInput = document.getElementById("hashInput");
  const hashOut = document.getElementById("hashOut");
  async function updateHash() {
    hashOut.textContent = await sha256Hex(hashInput.value);
  }
  hashInput.addEventListener("input", updateHash);
  updateHash();
</script>
    </main>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
